-- æ—¥æœ¬èªè¡¨ç¤ºå¯¾å¿œ TokraScript Loaderï¼ˆç”»é¢è¡¨ç¤ºç‰ˆï¼‰

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- === ç”»é¢ã«è¡¨ç¤ºã™ã‚‹GUIã‚’ä½œã‚‹ ===
local gui = Instance.new("ScreenGui")
gui.Name = "TokraLoaderJP"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame", gui)
frame.Size = UDim2.fromScale(0.4, 0.15)
frame.Position = UDim2.fromScale(0.3, 0.4)
frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
frame.BorderSizePixel = 0
frame.BackgroundTransparency = 0.1
frame.AnchorPoint = Vector2.new(0, 0)

local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 16)

local text = Instance.new("TextLabel", frame)
text.Size = UDim2.fromScale(1, 1)
text.BackgroundTransparency = 1
text.TextColor3 = Color3.fromRGB(255, 255, 255)
text.TextScaled = true
text.Font = Enum.Font.SourceSansBold
text.Text = "ğŸ“¦ TokraScript ã‚’èª­ã¿è¾¼ã¿ä¸­â€¦"

-- === å°‘ã—è¡¨ç¤ºã•ã›ã‚‹ ===
task.wait(2)

-- === ã“ã“ã‹ã‚‰å…ƒã®Loaderå‡¦ç† ===
local Loadstring = loadstring or getgenv().loadstring or getfenv().loadstring
local HttpGet = game.HttpGet

if not (Loadstring and HttpGet) then
    text.Text = "âŒ ã“ã®å®Ÿè¡Œç’°å¢ƒã§ã¯å®Ÿè¡Œã§ãã¾ã›ã‚“"
    task.wait(3)
    gui:Destroy()
    return
end

local Repository = "https://raw.githubusercontent.com/sladostrastnik/TokraScript/refs/heads/main/Games/"
local PlaceId = tostring(game.PlaceId)
local Suffix = ".luau"

local GameScript
local success = pcall(function()
    GameScript = HttpGet(game, Repository .. PlaceId .. Suffix)
end)

if not success or not GameScript then
    text.Text = "âŒ ã“ã®ã‚²ãƒ¼ãƒ ã¯ TokraScript ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“"
    task.wait(3)
    gui:Destroy()
    return
end

text.Text = "âœ… èª­ã¿è¾¼ã¿å®Œäº†\nâ–¶ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™â€¦"
task.wait(1)

gui:Destroy()
Loadstring(GameScript)()
